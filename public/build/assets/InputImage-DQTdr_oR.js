import{r as e,j as o}from"./app-BwaIdyLA.js";const I=e.forwardRef(({className:h="",isFocused:u=!1,selectedFile:s=null,selectedFiles:t=[],onLoadFile:g,onFocus:c,multiple:n=!0,placeholder:m=null,...x},l)=>{const a=e.useRef(null),[p,i]=e.useState([]),f=e.useMemo(()=>m||(n?"Sélectionner des images":"Sélectionner une image"),[m,n]);e.useImperativeHandle(l,()=>({focus:()=>{var r;return(r=a.current)==null?void 0:r.focus()},click:()=>{var r;return(r=a.current)==null?void 0:r.click()},getFiles:()=>{var r;return(r=a.current)==null?void 0:r.files}})),e.useEffect(()=>{var r;u&&((r=a.current)==null||r.focus())},[u]),e.useEffect(()=>{if(n)!t||t.length===0?i([f]):i(t.map(r=>r.name||r));else if(!s)i([f]);else{const r=s.name||s;i([r])}},[s,t,n,f]);const k=()=>{var r;(r=a.current)==null||r.click(),c==null||c()},y=()=>{var d;const r=Array.from(((d=a.current)==null?void 0:d.files)||[]);r.length>0&&(i(r.map(b=>b.name)),g(n?r:r[0]))},j=n?t&&t.length>0:s!=null;return o.jsxs("div",{children:[o.jsx("div",{onClick:k,className:`rounded-md h-11 flex items-center mt-1 border border-gray-300 shadow-sm
                        focus:border-indigo-500 focus:ring-indigo-500 dark:border-gray-700
                        dark:bg-gray-900 dark:text-gray-300 dark:focus:border-indigo-600
                        dark:focus:ring-indigo-600 cursor-pointer text-sm
                        ${j?"":"text-gray-500"} ${h}`,children:o.jsx("span",{className:"px-2 truncate",children:p.join(", ")})}),o.jsx("input",{...x,type:"file",ref:a,accept:"image/*",multiple:n,className:"hidden",onChange:y})]})});I.displayName="InputImage";export{I};
