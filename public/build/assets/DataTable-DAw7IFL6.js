import{r as N,q as $,j as e}from"./app-rDfK0lPv.js";function I({headers:u,rows:l,className:w="",itemsPerPage:d=5,actions:c=[],currentPage:i=1,onPageChange:C=()=>{},masqueColumns:y=[]}){var f;const[s,S]=N.useState({key:null,direction:"asc"}),m=$().props.auth.user,L=t=>{let n="asc";s.key===t&&s.direction==="asc"&&(n="desc"),S({key:t,direction:n})},x=t=>t.sortable===!0,p=N.useMemo(()=>s.key?[...l].sort((t,n)=>{const a=t[s.key],r=n[s.key];if(a==null)return 1;if(r==null)return-1;if(typeof a=="number"&&typeof r=="number")return s.direction==="asc"?a-r:r-a;const o=new Date(a),g=new Date(r);if(!isNaN(o)&&!isNaN(g)&&a.toString().includes("-"))return s.direction==="asc"?o-g:g-o;const j=a.toString().toLowerCase(),v=r.toString().toLowerCase();return j<v?s.direction==="asc"?-1:1:j>v?s.direction==="asc"?1:-1:0}):l,[l,s]),k=i*d,D=k-d,M=p.slice(D,k),h=Math.ceil(p.length/d),b=t=>{C(t)},R=t=>s.key!==t?e.jsx("svg",{className:"w-4 h-4 ml-1 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 9l4-4 4 4m0 6l-4 4-4-4"})}):s.direction==="asc"?e.jsx("svg",{className:"w-4 h-4 ml-1 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})}):e.jsx("svg",{className:"w-4 h-4 ml-1 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})});return e.jsxs("div",{children:[e.jsx("div",{className:`overflow-auto rounded-lg shadow-sm ${w}`,children:e.jsxs("table",{className:"w-full min-w-full bg-white table-auto dark:bg-gray-800",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:e.jsxs("tr",{children:[u.map((t,n)=>!y.includes(t.key)&&e.jsx("th",{className:`px-4 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase dark:text-gray-300 ${x(t)?"cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 select-none":""}`,onClick:x(t)?()=>L(t.key):void 0,children:e.jsxs("div",{className:"flex items-center",children:[t.label,x(t)&&R(t.key)]})},n)),c.length>0&&((f=m.user_role)==null?void 0:f.name)!=="partenaire"&&e.jsx("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-center text-gray-500 uppercase dark:text-gray-300",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:M.map((t,n)=>{var a;return e.jsxs("tr",{className:"transition-colors hover:bg-gray-50 dark:hover:bg-gray-700",children:[u.map((r,o)=>!y.includes(r.key)&&e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900 dark:text-gray-200",children:r.customRender?r.customRender(t[r.key],t):t[r.key]},o)),c.length>0&&((a=m.user_role)==null?void 0:a.name)!=="partenaire"&&e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900 whitespace-nowrap dark:text-gray-200",children:e.jsx("div",{className:"flex flex-wrap justify-center gap-2",children:c.map((r,o)=>e.jsx("button",{onClick:()=>r.handler(t),className:`${r.color} rounded-md hover:${r.hoverColor} transition`,children:r.label},o))})})]},n)})})]})}),e.jsxs("div",{className:"flex flex-col items-center justify-between mt-4 space-y-2 sm:flex-row sm:space-y-0",children:[e.jsxs("div",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Page ",i," sur ",h]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>b(i-1),disabled:i===1,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed dark:text-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600",children:"Précédent"}),e.jsx("button",{onClick:()=>b(i+1),disabled:i===h,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed dark:text-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600",children:"Suivant"})]})]})]})}export{I as D};
