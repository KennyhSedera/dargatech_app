import{r,j as a}from"./app-BA1yNtQK.js";const k=r.forwardRef(({data:s=[],className:p="",isFocused:f=!1,defaultValue:u=null,onSelect:c,onFocus:h,...w},b)=>{const[n,i]=r.useState(""),[g,m]=r.useState([]),[x,o]=r.useState(!1),d=r.useRef(null),l=r.useRef(null);r.useImperativeHandle(b,()=>({focus:()=>{var e;return(e=d.current)==null?void 0:e.focus()}})),r.useEffect(()=>{if(u){const e=s.find(t=>t.id===u);e&&i(e.nom||e.title)}},[u,s]),r.useEffect(()=>{var e;f&&((e=d.current)==null||e.focus())},[f]),r.useEffect(()=>{if(n){const e=s.filter(t=>(t.nom||t.title||"").toLowerCase().includes(n.toLowerCase()));m(e),o(!0)}else m([]),o(!1)},[n,s]),r.useEffect(()=>{function e(t){l.current&&!l.current.contains(t.target)&&o(!1)}return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);const y=e=>{i(e.nom||e.title),o(!1),c&&c(e)};return a.jsxs("div",{className:"relative",ref:l,children:[a.jsx("input",{...w,type:"text",value:n,onChange:e=>i(e.target.value),className:"rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 dark:focus:border-indigo-600 dark:focus:ring-indigo-600 "+p,ref:d,onFocus:()=>(o(!0),h())}),x&&g.length>0&&a.jsx("ul",{className:"absolute z-50 mt-1 w-full bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-md shadow-lg max-h-48 overflow-y-auto",children:g.map(e=>a.jsx("li",{className:"px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer",onMouseDown:()=>y(e),children:e.nom||e.title},e.id))})]})});export{k as I};
