import{r as g,j as e,$ as D}from"./app-Dev248mD.js";import{S as W}from"./ShowImage-DqECYk8O.js";import{A as $,R as L}from"./AuthenticatedLayout-DvsmwHJ4.js";import{b as M,s as A}from"./constant-DsWclf2k.js";import{T as E}from"./index-CkYZfRS6.js";import"./chevron-right-B7tJ_0ao.js";import"./createLucideIcon-7T_aL7KR.js";import"./transition-CDZ2zzsl.js";import"./iconBase-CrEsRsQN.js";import"./useTheme-9nmGklfE.js";import"./index-DSBXUVCY.js";import"./Modal-D58MKRQA.js";const a={Calendar:()=>e.jsx("span",{className:"text-lg",children:"ðŸ“…"}),User:()=>e.jsx("span",{className:"text-lg",children:"ðŸ‘¤"}),MapPin:()=>e.jsx("span",{className:"text-lg",children:"ðŸ“"}),Wrench:()=>e.jsx("span",{className:"text-lg",children:"ðŸ”§"}),Beaker:()=>e.jsx("span",{className:"text-lg",children:"ðŸ§ª"}),Bolt:()=>e.jsx("span",{className:"text-lg",children:"âš¡"}),Photo:()=>e.jsx("span",{className:"text-lg",children:"ðŸ“¸"}),Phone:()=>e.jsx("span",{className:"text-lg",children:"ðŸ“ž"}),Envelope:()=>e.jsx("span",{className:"text-lg",children:"âœ‰ï¸"}),Id:()=>e.jsx("span",{className:"text-lg",children:"ðŸ†”"}),Globe:()=>e.jsx("span",{className:"text-lg",children:"ðŸŒ"}),Clock:()=>e.jsx("span",{className:"text-lg",children:"ðŸ•’"}),Chart:()=>e.jsx("span",{className:"text-lg",children:"ðŸ“Š"}),Water:()=>e.jsx("span",{className:"text-xl",children:"ðŸ’§"}),CO2:()=>e.jsx("span",{className:"text-xl",children:"ðŸ’¨"}),Telegram:()=>e.jsx(L,{className:"text-2xl text-blue-600 dark:text-blue-400"}),World:()=>e.jsx(E,{className:"text-xl text-black dark:text-white"})},K=({installation:s})=>{var p,j,u,b,N,v,y,f,k,w,C,_,I,P;const[S,T]=g.useState(!0),[n,h]=g.useState(null);g.useEffect(()=>{s&&T(!1)},[s]);const c=t=>t?new Date(t).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"}):"N/A",i=t=>{switch(t==null?void 0:t.toLowerCase()){case"installÃ©e":return"green-500";case"en_cours":return"yellow-500";case"planifiÃ©e":return"blue-500";case"en panne":return"red-500";default:return"gray-500 "}},l=JSON.parse(s==null?void 0:s.photos_installation)||null,r=({icon:t,label:d,value:o,className:m=""})=>e.jsx("div",{className:`bg-gradient-to-br from-white/50 to-gray-50/50 dark:from-gray-800/50 dark:to-gray-900/50 rounded-xl p-4 border border-gray-100 dark:border-gray-700 shadow-sm hover:shadow-md dark:shadow-gray-900/20 transition-shadow duration-200 ${m}`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(t,{})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs font-medium tracking-wide text-gray-500 uppercase dark:text-gray-400",children:d}),e.jsx("p",{className:"text-sm font-semibold text-gray-900 truncate dark:text-gray-100",children:o||"N/A"})]})]})}),x=({title:t,icon:d,children:o,className:m=""})=>e.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-gray-100 dark:border-gray-700 overflow-hidden hover:shadow-xl dark:shadow-gray-900/30 transition-shadow duration-300 ${m}`,children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-100 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"px-2 py-1 bg-gray-100 rounded-lg dark:bg-gray-700",children:e.jsx(d,{})}),e.jsx("h2",{className:"text-xl font-bold dark:text-white",children:t})]})}),e.jsx("div",{className:"p-6",children:o})]});return S?e.jsx($,{children:e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-teal-500 rounded-full border-t-transparent animate-spin"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Chargement des donnÃ©es..."})]})})}):e.jsxs($,{children:[e.jsx(D,{title:"Installation - "+s.code_installation}),e.jsx("div",{className:"min-h-screen py-8",children:e.jsxs("div",{className:"px-4 mx-auto max-w-7xl sm:px-6 lg:px-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"overflow-hidden bg-white border border-gray-100 shadow-xl dark:bg-gray-800 rounded-3xl dark:border-gray-700",children:[e.jsx("div",{className:"p-4 border-b border-gray-100 dark:border-gray-700",children:e.jsxs("div",{className:"flex flex-col gap-6 lg:flex-row lg:items-center lg:justify-between",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"p-3 text-2xl dark:bg-white/20 bg-gray-50 backdrop-blur-sm rounded-2xl",children:"âš™ï¸"}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-4xl font-black dark:text-white",children:["Installation"," ",s.code_installation]}),e.jsxs("p",{className:"mt-2 text-lg font-medium text-blue-400 dark:text-blue-200",children:["InstallÃ©e le"," ",c(s.date_installation)]})]})]})}),e.jsxs("div",{className:`flex items-center flex-shrink-0 transition-transform duration-200 transform rounded-lg px-2 bg-${i(s.statuts)}/10`,children:[s.statuts==="installÃ©e"?e.jsx(M,{className:`w-5 h-5 text-${i(s.statuts)}`}):e.jsx(A,{className:`w-6 h-6 text-${i(s.statuts)}`}),e.jsx("span",{className:`px-2 py-3 rounded-lg text-base font-bold text-${i(s.statuts)} capitalize `,children:s.statuts||"N/A"})]})]})}),e.jsx("div",{className:"px-8 py-6",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4 md:grid-cols-4",children:[e.jsxs("div",{className:"py-2 text-center rounded-lg bg-gray-50 dark:bg-gray-700",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:s.debit_nominal}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"mÂ³/h DÃ©bit"})]}),e.jsxs("div",{className:"py-2 text-center rounded-lg bg-gray-50 dark:bg-gray-700",children:[e.jsx("div",{className:"text-2xl font-bold text-indigo-600 dark:text-indigo-400",children:s.hmt}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"m HMT"})]}),e.jsxs("div",{className:"py-2 text-center rounded-lg bg-gray-50 dark:bg-gray-700",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:s.puissance_pompe}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"W Puissance"})]}),e.jsxs("div",{className:"py-2 text-center rounded-lg bg-gray-50 dark:bg-gray-700",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:s.profondeur_forage}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"m Distance"})]})]})})]})}),e.jsxs("div",{className:"grid grid-cols-1 gap-8 xl:grid-cols-2",children:[e.jsxs(x,{title:"SpÃ©cifications Techniques",icon:a.Wrench,children:[e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[e.jsx(r,{icon:a.Id,label:"Code Installation",value:s.code_installation}),e.jsx(r,{icon:a.Beaker,label:"NÂ° de SÃ©rie",value:s.numero_serie}),e.jsx(r,{icon:a.Globe,label:"Source d'Eau",value:s.source_eau}),e.jsx(r,{icon:a.Chart,label:"HMT",value:`${s.hmt} m`}),e.jsx(r,{icon:a.Bolt,label:"DÃ©bit Nominal",value:`${s.debit_nominal} mÂ³/h`}),e.jsx(r,{icon:a.Bolt,label:"Puissance crÃªte installÃ© ",value:`${s.puissance_pompe} W`}),e.jsx(r,{icon:a.Water,label:"QuantitÃ© d'eau pompÃ©e",value:`${s.qte_eau} mÂ³`}),e.jsx(r,{icon:a.CO2,label:"QuantitÃ© de CO2 evitÃ©e",value:`${s.qte_co2} Kg`})]}),e.jsx("div",{className:"mt-4",children:e.jsx(r,{icon:a.Chart,label:"Distance maximale pompe champ PV ",value:`${s.profondeur_forage} m`})}),e.jsx("div",{className:"mt-4",children:e.jsx(r,{icon:s.created_via==="telegram_bot"?a.Telegram:a.World,label:"CrÃ©Ã©e via",value:s.created_via==="telegram_bot"?"Telegram":s.created_via||"Non renseignÃ©",className:"capitalize"})})]}),e.jsx(x,{title:"Informations Client",icon:a.User,children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"p-4 border border-blue-100 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/30 dark:to-indigo-900/30 rounded-xl dark:border-blue-800",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(a.User,{}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:[(p=s.client)==null?void 0:p.prenom," ",(j=s.client)==null?void 0:j.nom]}),e.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-400",children:"Client Principal"})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[e.jsx(r,{icon:a.Id,label:"CIN",value:(u=s.client)==null?void 0:u.CIN}),e.jsx(r,{icon:a.User,label:"Genre",value:(b=s.client)==null?void 0:b.genre}),e.jsx(r,{icon:a.Phone,label:"TÃ©lÃ©phone",value:(N=s.client)==null?void 0:N.telephone}),e.jsx(r,{icon:a.Envelope,label:"Email",value:(v=s.client)==null?void 0:v.email})]}),e.jsx(r,{icon:a.MapPin,label:"Localisation Client",value:(y=s.client)==null?void 0:y.localisation}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[e.jsx(r,{icon:a.Chart,label:"Type d'ActivitÃ©",value:(f=s.client)==null?void 0:f.type_activite_agricole}),e.jsx(r,{icon:a.Chart,label:"Surface CultivÃ©e",value:`${(k=s.client)==null?void 0:k.surface_cultivee} ha`})]}),e.jsx(r,{icon:a.Calendar,label:"Date de Contrat",value:c((w=s.client)==null?void 0:w.date_contrat)})]})}),e.jsx(x,{title:"GÃ©olocalisation",icon:a.MapPin,children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[e.jsx(r,{icon:a.Globe,label:"Pays",value:(C=s.localisation)==null?void 0:C.pays}),e.jsx(r,{icon:a.MapPin,label:"Ville",value:(_=s.localisation)==null?void 0:_.ville})]}),e.jsxs("div",{className:"p-6 border border-green-100 bg-gradient-to-r from-green-50 to-blue-50 dark:from-green-900/30 dark:to-blue-900/30 rounded-xl dark:border-green-800",children:[e.jsxs("h3",{className:"flex items-center gap-2 mb-4 text-lg font-semibold text-gray-900 dark:text-gray-100",children:[e.jsx(a.MapPin,{}),"CoordonnÃ©es GPS"]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"p-4 text-center bg-white rounded-lg shadow-sm dark:bg-gray-700",children:[e.jsxs("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:[parseFloat((I=s.localisation)==null?void 0:I.latitude).toFixed(8),"Â°"]}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Latitude"})]}),e.jsxs("div",{className:"p-4 text-center bg-white rounded-lg shadow-sm dark:bg-gray-700",children:[e.jsxs("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:[parseFloat((P=s.localisation)==null?void 0:P.longitude).toFixed(8),"Â°"]}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Longitude"})]})]})]})]})}),e.jsx(x,{title:"Historique & Photos",icon:a.Photo,children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"p-6 border border-purple-100 bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-900/30 dark:to-pink-900/30 rounded-xl dark:border-purple-800",children:[e.jsxs("h3",{className:"flex items-center gap-2 mb-4 text-lg font-semibold text-gray-900 dark:text-gray-100",children:[e.jsx(a.Clock,{}),"Timeline"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:"InstallÃ©e:"}),e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:c(s.date_installation)})]}),e.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[e.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:"CrÃ©Ã©e:"}),e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:c(s.created_at)})]}),e.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[e.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Mise Ã  jour:"}),e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:c(s.updated_at)})]})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"flex items-center gap-2 mb-4 text-lg font-semibold text-gray-900 dark:text-gray-100",children:[e.jsx(a.Photo,{}),"Photos de l'Installation"]}),l&&l.length>0?e.jsx("div",{className:"grid grid-cols-2 gap-4 md:grid-cols-3",children:l.map((t,d)=>e.jsxs("div",{onClick:()=>h(t),className:"relative overflow-hidden transition-shadow duration-300 shadow-lg cursor-pointer group rounded-xl hover:shadow-xl dark:shadow-gray-900/50",children:[e.jsx("img",{src:`/${t}`,alt:`Photo ${d+1}`,className:"object-cover w-full h-32 transition-transform duration-300 group-hover:scale-110"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center transition-opacity duration-300 opacity-0 bg-black/20 dark:bg-black/40 group-hover:opacity-100",children:e.jsx("span",{className:"text-3xl",children:"ðŸ“¸"})})]},d))}):e.jsxs("div",{className:"py-12 text-center border-2 border-gray-200 border-dashed bg-gray-50 dark:bg-gray-700 rounded-xl dark:border-gray-600",children:[e.jsx("div",{className:"mb-4 text-4xl",children:"ðŸ“¸"}),e.jsx("p",{className:"font-medium text-gray-500 dark:text-gray-400",children:"Aucune photo disponible"}),e.jsx("p",{className:"text-sm text-gray-400 dark:text-gray-500",children:"Les photos d'installation apparaÃ®tront ici"})]})]})]})}),n&&l.includes(n)&&e.jsx(W,{selectedImage:n,setSelectedImage:h,listImages:l.length>1&&l})]})]})})]})};export{K as default};
