import{r as i,j as e,L as b}from"./app-Cy2PBkd3.js";import{A as m}from"./AuthenticatedLayout-Cgh3bMIE.js";import{a as w}from"./clientService-B-mL-H3m.js";import{h as x,H as M,a as D,F as Y,b as _,c as C,I as L,d as F,e as I,L as S,g as A,i as P}from"./constant-BO8MEuAf.js";import"./fr-B4HmnGfx.js";import"./transition-WsAqpHej.js";import"./iconBase-Bq1bRPGb.js";import"./useTheme-Aq3x9ALX.js";import"./index-O8uF_LAX.js";import"./index-BPFMebRk.js";import"./api-D3R6-SgC.js";x.locale("fr");const z=({client:s})=>{var o,g,j;const[n,p]=i.useState([]),[c,y]=i.useState([]),[a,u]=i.useState(null),[N,f]=i.useState(!0),[k,h]=i.useState(!0),v=async t=>{var r,l;try{h(!0);const d=await w(t);d&&(y(((r=d.client)==null?void 0:r.installations)||[]),p(((l=d.client)==null?void 0:l.paiement)||[]),u(d.client))}catch(d){console.error("Erreur lors de la récupération des données:",d)}finally{f(!1),h(!1)}};return i.useEffect(()=>{s!=null&&s.id&&v(s.id)},[s]),N?e.jsx(m,{children:e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-teal-500 border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Chargement des données..."})]})})}):s?e.jsxs(m,{children:[e.jsx(b,{title:`${s.nom} ${s.prenom}`}),k?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):e.jsx("div",{className:"py-6 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-lg overflow-hidden",children:[e.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"h-16 w-16 bg-teal-500/10 rounded-full flex items-center justify-center",children:e.jsx(M,{className:"h-8 w-8 text-teal-500"})}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[s.nom," ",s.prenom]}),e.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[e.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Client ID: #",s.id]}),e.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"•"}),e.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Inscrit le ",x(s.created_at).format("DD MMM YYYY")]})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 p-6",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-blue-50 dark:bg-blue-900/20 rounded-lg flex items-center justify-center",children:e.jsx(D,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Téléphone"}),e.jsx("p",{className:"text-base font-medium text-gray-900 dark:text-white",children:s.telephone})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-indigo-50 dark:bg-indigo-900/20 rounded-lg flex items-center justify-center",children:e.jsx(Y,{className:"h-5 w-5 text-indigo-600 dark:text-indigo-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Email"}),e.jsx("p",{className:"text-base font-medium text-gray-900 dark:text-white",children:s.email||"Non renseigné"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg flex items-center justify-center",children:e.jsx(_,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"CIN"}),e.jsx("p",{className:"text-base font-medium text-gray-900 dark:text-white",children:s.CIN})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-red-50 dark:bg-red-900/20 rounded-lg flex items-center justify-center",children:e.jsx(C,{className:"h-5 w-5 text-red-600 dark:text-red-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Localisation"}),e.jsxs("p",{className:"text-base font-medium text-gray-900 dark:text-white",children:[(o=a==null?void 0:a.localisation)==null?void 0:o.ville,", ",(g=a==null?void 0:a.localisation)==null?void 0:g.quartier]}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:(j=a==null?void 0:a.localisation)==null?void 0:j.pays})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-purple-50 dark:bg-purple-900/20 rounded-lg flex items-center justify-center",children:e.jsx(L,{className:"h-5 w-5 text-purple-600 dark:text-purple-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Genre"}),e.jsx("p",{className:"text-base font-medium text-gray-900 dark:text-white",children:s.genre})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-orange-50 dark:bg-orange-900/20 rounded-lg flex items-center justify-center",children:e.jsx(F,{className:"h-5 w-5 text-orange-600 dark:text-orange-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Date du contrat"}),e.jsx("p",{className:"text-base font-medium text-gray-900 dark:text-white",children:x(s.date_contrat).format("DD MMM YYYY")})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-green-50 dark:bg-green-900/20 rounded-lg flex items-center justify-center",children:e.jsx(I,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Surface cultivée"}),e.jsxs("p",{className:"text-base font-medium text-gray-900 dark:text-white",children:[s.surface_cultivee," ha"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-teal-50 dark:bg-teal-900/20 rounded-lg flex items-center justify-center",children:e.jsx(S,{className:"h-5 w-5 text-teal-600 dark:text-teal-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Type d'activité agricole"}),e.jsx("p",{className:"text-base font-medium text-gray-900 dark:text-white",children:s.type_activite_agricole})]})]})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-lg overflow-hidden",children:[e.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"h-10 w-10 bg-amber-50 dark:bg-amber-900/20 rounded-lg flex items-center justify-center",children:e.jsx(A,{className:"h-5 w-5 text-amber-600 dark:text-amber-400"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Installations"})]})}),e.jsx("div",{className:"p-6",children:c&&c.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:c.map((t,r)=>{var l;return e.jsx("div",{className:"bg-gray-50 dark:bg-slate-700/50 rounded-lg p-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Code installation"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:t.code_installation})]}),e.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${((l=t.statuts)==null?void 0:l.toLowerCase())==="en panne"?"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400":"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400"}`,children:t.statuts})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Date d'installation"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:x(t.date_installation).format("DD MMM YYYY")})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Débit nominal"}),e.jsxs("p",{className:"font-medium text-gray-900 dark:text-white",children:[t.debit_nominal," m³/h"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Puissance pompe"}),e.jsxs("p",{className:"font-medium text-gray-900 dark:text-white",children:[t.puissance_pompe," kW"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Surface panneaux"}),e.jsxs("p",{className:"font-medium text-gray-900 dark:text-white",children:[t.surface_panneaux," m²"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Profondeur forage"}),e.jsxs("p",{className:"font-medium text-gray-900 dark:text-white",children:[t.profondeur_forage," m"]})]})]})]})},r)})}):e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Aucune installation enregistrée"})})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-lg overflow-hidden",children:[e.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"h-10 w-10 bg-green-50 dark:bg-green-900/20 rounded-lg flex items-center justify-center",children:e.jsx(P,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Historique des paiements"})]})}),e.jsx("div",{className:"p-6",children:n&&n.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map((t,r)=>e.jsx("div",{className:"bg-gray-50 dark:bg-slate-700/50 rounded-lg p-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Montant"}),e.jsxs("p",{className:"font-medium text-gray-900 dark:text-white",children:[parseInt(t.montant).toLocaleString("fr-FR")," FCFA"]})]}),e.jsx("span",{className:"px-3 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",children:t.statut_paiement})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Date de paiement"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:x(t.date_paiement).format("DD MMM YYYY")})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Mode de paiement"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:t.mode_paiement})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Période couverte"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:t.periode_couverte})]}),t.observation&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Observation"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:t.observation})]})]})},r))}):e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Aucun paiement enregistré"})})]})]})})]}):e.jsx(m,{children:e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Aucune donnée client disponible"})})})})};export{z as default};
