import{r as d,j as e,Y as f,q as y}from"./app-CKIQC7bl.js";import{z as k}from"./transition-De7C3uv9.js";import{G as p}from"./iconBase-BrNMzGLU.js";import{u as N}from"./useTheme-CqPKuz4y.js";import{a as C,b as w}from"./index-C37N_ndF.js";import{t as L,b as j,u as T}from"./index-D8MTw20h.js";import{D as S,E as I,G as M,J as P,K as D,M as z}from"./constant-Ccl-ng2K.js";function F(){const t=["Sisam dargatech Togo","Sisam dargatech Togo","Sisam dargatech Togo"],[s,r]=d.useState(0),[a,l]=d.useState("");return d.useEffect(()=>{let i=0,o;const g=t[s],x=setInterval(()=>{i<=g.length?(l(g.substring(0,i)),i++):(clearInterval(x),o=setTimeout(()=>{r(h=>(h+1)%t.length),l("")},3e3))},250);return()=>{clearInterval(x),clearTimeout(o)}},[s]),e.jsx("div",{className:"hidden sm:flex justify-center items-center font-black text-2xl relative whitespace-pre uppercase",children:e.jsxs("div",{className:"relative",children:[t[s].split("").map((i,o)=>e.jsx("span",{className:`inline-block transition-all duration-500 bg-gradient-to-r from-orange-600 to-indigo-600 bg-clip-text text-transparent ${o<a.length?"translate-y-0 opacity-100":"translate-y-8 opacity-0"}`,style:{transitionDelay:`${o*75}ms`},children:i===" "?"Â ":i},o)),e.jsx("div",{className:"absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2 -z-10 w-full h-8 bg-yellow-200 dark:bg-blue-800 rounded-full blur-xl opacity-30 animate-pulse"})]})})}const H=({Icon:t,route:s,label:r,active:a=!1,className:l=""})=>e.jsxs(f,{href:s,className:"group inline-flex items-center rounded-md px-1 py-1 text-sm font-medium transition duration-150 ease-in-out focus:outline-none"+(a?"bg-blue-400 text-orange-600 focus:bg-orange-700 dark:bg-indigo-600 dark:text-gray-100":"bg-transparent text-gray-400 hover:bg-gray-300 hover:text-gray-700 focus:bg-gray-300 focus:text-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-300 dark:focus:bg-gray-700 dark:focus:text-gray-300")+l,children:[e.jsx("div",{className:"absolute w-52 font-semibold left-full hidden group-hover:flex",children:e.jsx("span",{className:"bg-gray-300 dark:bg-gray-700 h-8 px-2 rounded flex items-center",children:r})}),e.jsx(t,{className:"text-3xl"})]});function m({active:t=!1,className:s="",children:r,...a}){return e.jsx(f,{...a,className:`flex w-full items-start border-l-4 py-2 pe-4 ps-3 ${t?"border-indigo-400 bg-indigo-50 text-indigo-700 focus:border-indigo-700 focus:bg-indigo-100 focus:text-indigo-800 dark:border-indigo-600 dark:bg-indigo-900/50 dark:text-indigo-300 dark:focus:border-indigo-300 dark:focus:bg-indigo-900 dark:focus:text-indigo-200":"border-transparent text-gray-600 hover:border-gray-300 hover:bg-gray-50 hover:text-gray-800 focus:border-gray-300 focus:bg-gray-50 focus:text-gray-800 dark:text-gray-400 dark:hover:border-gray-600 dark:hover:bg-gray-700 dark:hover:text-gray-200 dark:focus:border-gray-600 dark:focus:bg-gray-700 dark:focus:text-gray-200"} text-base font-medium transition duration-150 ease-in-out focus:outline-none ${s}`,children:r})}const b=d.createContext(),c=({children:t})=>{const[s,r]=d.useState(!1),a=()=>{r(l=>!l)};return e.jsx(b.Provider,{value:{open:s,setOpen:r,toggleOpen:a},children:e.jsx("div",{className:"relative",children:t})})},E=({children:t})=>{const{open:s,setOpen:r,toggleOpen:a}=d.useContext(b);return e.jsxs(e.Fragment,{children:[e.jsx("div",{onClick:a,children:t}),s&&e.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>r(!1)})]})},V=({align:t="right",width:s="48",contentClasses:r="py-1 bg-white dark:bg-gray-700",children:a})=>{const{open:l,setOpen:i}=d.useContext(b);let o="origin-top";t==="left"?o="ltr:origin-top-left rtl:origin-top-right start-0":t==="right"&&(o="ltr:origin-top-right rtl:origin-top-left end-0");let g="";return s==="48"&&(g="w-48"),e.jsx(e.Fragment,{children:e.jsx(k,{show:l,enter:"transition ease-out duration-200",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:e.jsx("div",{className:`absolute z-50 mt-2 rounded-md shadow-lg bg-gray-100 dark:bg-gray-900 dark:text-white ${o} ${g}`,onClick:()=>i(!1),children:e.jsx("div",{className:"rounded-md ring-1 ring-black ring-opacity-5 "+r,children:a})})})})},$=({className:t="",children:s,...r})=>e.jsx(f,{...r,className:"block w-full px-4 py-2 text-start text-sm leading-5 text-gray-700 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none dark:text-gray-300 dark:hover:bg-gray-800 dark:focus:bg-gray-800 "+t,children:s}),R=({className:t="",children:s,onClick:r,...a})=>e.jsx("div",{...a,onClick:r,className:"flex gap-4 w-full px-4 py-2 text-start text-sm leading-5 text-gray-700 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none dark:text-gray-300 dark:hover:bg-gray-800 dark:focus:bg-gray-800 cursor-pointer"+t,children:s});c.Trigger=E;c.Content=V;c.Link=$;c.Item=R;function Q(t){return p({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12ZM12.3584 9.38246C11.3857 9.78702 9.4418 10.6244 6.5266 11.8945C6.05321 12.0827 5.80524 12.2669 5.78266 12.4469C5.74451 12.7513 6.12561 12.8711 6.64458 13.0343C6.71517 13.0565 6.78832 13.0795 6.8633 13.1039C7.37388 13.2698 8.06071 13.464 8.41776 13.4717C8.74164 13.4787 9.10313 13.3452 9.50222 13.0711C12.226 11.2325 13.632 10.3032 13.7203 10.2832C13.7826 10.269 13.8689 10.2513 13.9273 10.3032C13.9858 10.3552 13.98 10.4536 13.9739 10.48C13.9361 10.641 12.4401 12.0318 11.666 12.7515C11.4351 12.9661 11.2101 13.1853 10.9833 13.4039C10.509 13.8611 10.1533 14.204 11.003 14.764C11.8644 15.3317 12.7323 15.8982 13.5724 16.4971C13.9867 16.7925 14.359 17.0579 14.8188 17.0156C15.0861 16.991 15.3621 16.7397 15.5022 15.9903C15.8335 14.2193 16.4847 10.3821 16.6352 8.80083C16.6484 8.6623 16.6318 8.485 16.6185 8.40717C16.6052 8.32934 16.5773 8.21844 16.4762 8.13635C16.3563 8.03913 16.1714 8.01863 16.0887 8.02009C15.7125 8.02672 15.1355 8.22737 12.3584 9.38246Z"},child:[]}]})(t)}function O(t){return p({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M9.8216 2.23796C9.29417 3.38265 9 4.65697 9 6C9 10.9706 13.0294 15 18 15C19.343 15 20.6174 14.7058 21.762 14.1784C20.7678 18.6537 16.7747 22 12 22C6.47715 22 2 17.5228 2 12C2 7.22532 5.3463 3.23221 9.8216 2.23796ZM18.1642 2.29104L19 2.5V3.5L18.1642 3.70896C17.4476 3.8881 16.8881 4.4476 16.709 5.16417L16.5 6H15.5L15.291 5.16417C15.1119 4.4476 14.5524 3.8881 13.8358 3.70896L13 3.5V2.5L13.8358 2.29104C14.5524 2.1119 15.1119 1.5524 15.291 0.835829L15.5 0H16.5L16.709 0.835829C16.8881 1.5524 17.4476 2.1119 18.1642 2.29104ZM23.1642 7.29104L24 7.5V8.5L23.1642 8.70896C22.4476 8.8881 21.8881 9.4476 21.709 10.1642L21.5 11H20.5L20.291 10.1642C20.1119 9.4476 19.5524 8.8881 18.8358 8.70896L18 8.5V7.5L18.8358 7.29104C19.5524 7.1119 20.1119 6.5524 20.291 5.83583L20.5 5H21.5L21.709 5.83583C21.8881 6.5524 22.4476 7.1119 23.1642 7.29104Z"},child:[]}]})(t)}const Z=()=>{const t=[{icon:L,title:"light",label:"Claire"},{icon:O,title:"dark",label:"Sombre"},{icon:C,title:"system",label:"Systeme"}],{theme:s,setTheme:r}=N(),[a,l]=d.useState(t.find(o=>o.title===s)),i=o=>{l(o),r(o.title)};return e.jsx("div",{className:"relative",children:e.jsxs(c,{children:[e.jsx(c.Trigger,{children:e.jsx("button",{type:"button",className:"w-9 h-9 inline-flex items-center justify-center rounded-md p-2 text-gray-400 transition duration-150 ease-in-out hover:bg-gray-100 hover:text-gray-500 focus:bg-gray-100 focus:text-gray-500 focus:outline-none dark:text-gray-500 dark:hover:bg-gray-900 dark:hover:text-gray-400 dark:focus:bg-gray-900 dark:focus:text-gray-400",children:e.jsx(a.icon,{className:"text-lg"})})}),e.jsx(c.Content,{width:"auto",contentClasses:"border border-gray-400/20",children:t.map((o,g)=>e.jsxs(c.Item,{onClick:()=>i(o),className:a.title===o.title?"bg-gray-100 dark:bg-gray-800":"",children:[e.jsx(o.icon,{className:"text-lg"})," ",o.label]},g))})]})})},u=t=>t.trim().split(/\s+/).slice(0,2).map(r=>r[0].toUpperCase()).join(""),A=()=>{const t=y().props.auth.user,s=t.profile||{},r=t.technicien||{},a=t.partenaire||{};return e.jsx("div",{className:"relative",children:e.jsxs(c,{children:[e.jsx(c.Trigger,{children:e.jsx("button",{type:"button",className:"w-9 h-9 flex items-center rounded-full justify-center bg-gray-200 dark:bg-gray-900 border border-orange-500 dark:border-indigo-500",children:s.photo||r.photo||a.logo?e.jsx("img",{src:s.photo||r.photo||a.logo,alt:"Photo de profil",className:"w-full h-full object-cover rounded-full"}):e.jsx("span",{className:"text-lg font-bold",children:u(t.name)})})}),e.jsxs(c.Content,{width:"xl",contentClasses:" border border-gray-400/20",children:[e.jsxs("div",{className:"p-2 flex items-center gap-2 border-b border-b-gray-500/20",children:[e.jsx("div",{className:"w-12 h-12 ring-1 ring-gray-300 rounded-full flex items-center justify-center overflow-hidden",children:s!=null&&s.photo||r!=null&&r.photo||a!=null&&a.logo?e.jsx("img",{src:(s==null?void 0:s.photo)||(r==null?void 0:r.photo)||(a==null?void 0:a.logo),alt:"Photo de profil",className:"w-12 h-12 object-cover rounded-full",onError:l=>{l.target.style.display="none",l.target.parentElement.innerHTML=`<span class='text-2xl text-white font-bold'>${u(t.name)}</span>`}}):e.jsx("span",{className:"text-2xl text-white font-bold",children:u(t.name)})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex",children:[e.jsx("span",{className:"line-clamp-1",children:t.name})," ",e.jsx(j,{className:"text-green-500"})]}),e.jsx("div",{className:"text-sm font-extralight text-gray-500",children:t.email})]})]}),e.jsx(c.Link,{href:route("profile.edit"),children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(T,{className:"text-base"})," Profile"]})}),e.jsx(c.Link,{href:route("logout"),method:"post",as:"button",className:"rounded-bl-md rounded-br-md",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(w,{})," Se dÃ©connecter"]})})]})]})})};function B(t){return p({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M64 384h384v-42.666H64V384zm0-106.666h384v-42.667H64v42.667zM64 128v42.665h384V128H64z"},child:[]}]})(t)}function W({setId:t=()=>{},children:s}){const r=y().props.auth.user,a=r.profile||{},l=r.technicien||{},i=r.partenaire||{},[o,g]=d.useState(S);d.useEffect(()=>{if(r){const n=r.user_role;n&&n.name==="technicien"&&(t(r.technicien.id),g(I)),n&&n.name==="partenaire"&&g(M)}},[r]);const[x,h]=d.useState(!1);return e.jsxs("div",{className:"min-h-screen w-full bg-gray-100 dark:bg-gray-900 dark:text-white flex",children:[e.jsxs("div",{className:"hidden sm:flex sm:flex-col w-16 border-r py-1 items-center h-screen sticky top-0 border-gray-100 bg-white dark:border-gray-700 dark:bg-gray-800 z-40",children:[e.jsx("a",{href:"https://dargatech.com",target:"_blank",rel:"noreferrer",children:e.jsx("img",{src:P,alt:"logo",className:"w-12 mt-2"})}),e.jsx("div",{className:"flex flex-col gap-2 mt-6 justify-center bg-red",children:o.map((n,v)=>e.jsx(H,{route:route(n.route),active:route().current(n.route),Icon:n.icon,label:n.label},n.route))})]}),e.jsxs("div",{className:"w-full",children:[e.jsxs("nav",{className:"border-b border-gray-100 bg-white dark:border-gray-700 dark:bg-gray-800 sticky top-0 z-40",children:[e.jsx("div",{className:"mx-auto max-w-7xl px-2 sm:px-4 lg:px-6",children:e.jsxs("div",{className:"flex h-14 justify-between",children:[e.jsx("div",{className:"flex",children:e.jsx("div",{className:"flex shrink-0 items-center",children:e.jsx("a",{href:"https://dargatech.com",target:"_blank",rel:"noreferrer",children:e.jsx("img",{src:D,alt:"logo",className:"h-8"})})})}),e.jsx(F,{}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Z,{}),e.jsx("div",{className:"hidden sm:flex sm:items-center gap-2 ml-3",children:e.jsx(A,{})}),e.jsx("div",{className:"-me-2 flex items-center gap-2 sm:hidden",children:e.jsx("button",{onClick:()=>h(n=>!n),className:"inline-flex items-center justify-center rounded-md p-2 text-gray-400 transition duration-150 ease-in-out hover:bg-gray-100 hover:text-gray-500 focus:bg-gray-100 focus:text-gray-500 focus:outline-none dark:text-gray-500 dark:hover:bg-gray-900 dark:hover:text-gray-400 dark:focus:bg-gray-900 dark:focus:text-gray-400",children:x?e.jsx(z,{className:"text-xl"}):e.jsx(B,{className:"text-xl"})})})]})]})}),e.jsxs("div",{className:(x?"block":"hidden")+" sm:hidden",children:[e.jsx("div",{className:"space-y-1 pb-3 pt-2",children:o.map((n,v)=>e.jsx(m,{href:route(n.route),active:route().current(n.route),children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(n.icon,{})," ",n.label]})},n.route))}),e.jsxs("div",{className:"border-t border-gray-200 pb-1 pt-4 dark:border-gray-600",children:[e.jsxs("div",{className:"p-2 flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-500 ring-1 ring-gray-300 rounded-full flex items-center justify-center",children:a.photo||l.photo||i.logo?e.jsx("img",{src:a.photo||l.photo||i.logo,alt:"Photo de profil",className:"w-full h-full rounded-full object-cover"}):e.jsx("span",{className:"text-lg font-bold",children:u(r.name)})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex",children:[e.jsx("span",{className:"line-clamp-1",children:r.name})," ",e.jsx(j,{className:"text-green-500"})]}),e.jsx("div",{className:"text-sm font-extralight text-gray-500",children:r.email})]})]}),e.jsxs("div",{className:"mt-3 space-y-1",children:[e.jsx(m,{href:route("profile.edit"),children:"Profile"}),e.jsx(m,{method:"post",href:route("logout"),as:"button",children:"Se dÃ©connecter"})]})]})]})]}),e.jsx("main",{className:"p-2 pb-6",children:s})]})]})}export{W as A,Q as R,u as g};
