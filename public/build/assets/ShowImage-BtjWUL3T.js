import{r as d,j as t}from"./app-Cd5IKboC.js";import{S as b}from"./constant-DR5zD8kU.js";import{C as x}from"./chevron-right-QrxKl8XX.js";const v=({selectedImage:i,setSelectedImage:l,listImages:e=null})=>{const[s,c]=d.useState(0),o=e&&Array.isArray(e)&&e.length>0;d.useEffect(()=>{if(o&&i){const n=e.findIndex(r=>r===i);n!==-1&&c(n)}},[i,e,o]);const h=n=>{n.stopPropagation(),c(r=>{const a=r===0?e.length-1:r-1;return l(e[a]),a})},u=n=>{n.stopPropagation(),c(r=>{const a=r===e.length-1?0:r+1;return l(e[a]),a})};d.useEffect(()=>{if(!i||!o)return;const n=r=>{r.key==="ArrowLeft"&&h(r),r.key==="ArrowRight"&&u(r),r.key==="Escape"&&l(null)};return window.addEventListener("keydown",n),()=>window.removeEventListener("keydown",n)},[i,o,s]);const f=()=>{o||l(null)},p=o?e[s]:i,w=n=>`${b(n)?"":"/"}${n}`;return i&&t.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-between p-4 bg-black/95 backdrop-blur-sm animate-in fade-in",onClick:f,children:[t.jsx("div",{className:"z-50",children:o&&e.length>1&&s>0&&t.jsx("button",{className:"absolute flex items-center justify-center w-12 h-12 text-white transition -translate-y-1/2 rounded-full bg-white/10 backdrop-blur-md left-4 top-1/2 hover:bg-white/20 hover:scale-110",onClick:h,title:"Image précédente (←)",children:t.jsx(x,{className:"rotate-180"})})}),t.jsx("button",{className:"absolute flex items-center justify-center w-10 h-10 text-white transition rounded-full bg-white/10 backdrop-blur-md top-4 right-4 hover:bg-white/20 hover:scale-110",onClick:()=>l(null),title:"Fermer (Esc)",children:t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),t.jsx("div",{className:"relative max-w-6xl max-h-full duration-300 animate-in zoom-in-95",children:t.jsx("img",{src:w(p),alt:"Photo agrandie",className:"object-contain w-auto max-w-[85vw] md:min-w-[500px] shadow-2xl max-h-[90vh] rounded-2xl",onClick:n=>n.stopPropagation()})}),o&&e.length>1&&t.jsx(t.Fragment,{children:t.jsxs("div",{className:"absolute px-4 py-2 text-sm font-medium text-white -translate-x-1/2 rounded-full bg-white/10 backdrop-blur-md top-12 left-1/2",children:[s+1," / ",e.length]})}),t.jsx("div",{className:"absolute hidden px-6 py-2 text-xs text-white -translate-x-1/2 rounded-full sm:block bottom-4 left-1/2 bg-white/10 backdrop-blur-md",children:o?t.jsx("span",{children:"Utilisez les flèches ou boutons pour naviguer • Cliquez X pour fermer"}):t.jsx("span",{children:"Cliquez n'importe où pour fermer"})}),t.jsx("div",{children:o&&e.length>1&&s<e.length-1&&t.jsx("button",{className:"absolute flex items-center justify-center w-12 h-12 text-white transition -translate-y-1/2 rounded-full bg-white/10 backdrop-blur-md right-4 top-1/2 hover:bg-white/20 hover:scale-110",onClick:u,title:"Image suivante (→)",children:t.jsx(x,{})})})]})};export{v as S};
