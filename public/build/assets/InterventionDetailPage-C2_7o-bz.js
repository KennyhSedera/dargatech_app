import{r as g,j as e,q as R,$ as T}from"./app-DvL3bIJz.js";import{A as E,S as H}from"./AuthenticatedLayout-0FTk_4H1.js";import F from"./RapportPdf-GWrqXWuh.js";import{h as B}from"./html2pdf-BLd2n7EH.js";import{u as V}from"./constant-BOdoBgxy.js";import{c as l}from"./createLucideIcon-CRCc9vS4.js";import"./transition-CAmvPYwg.js";import"./iconBase-uHazxSoj.js";import"./useTheme-DR6rf2ta.js";import"./index-BKdiEWeE.js";import"./Modal-BWXXYoCo.js";import"./index-CyQftCib.js";import"./fr-Br33CVeN.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],G=l("activity",W);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],_=l("calendar",U);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],m=l("camera",Z);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],$=l("circle-alert",J);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],K=l("circle-check-big",O);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],b=l("clock",Q);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Y=l("download",X);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]],te=l("droplet",ee);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],u=l("file-text",ae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],se=l("info",re);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],C=l("mail",le);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],M=l("map-pin",oe);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],D=l("phone",de);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],ne=l("shield",ie);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],xe=l("trending-up",ce);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],me=l("triangle-alert",ge);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],y=l("user",he);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]],be=l("wrench",pe);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],ye=l("zap",ue),ze=({data:f})=>{const[j,h]=g.useState(null),[n,L]=g.useState("details");if(!f)return e.jsx("div",{className:"min-h-screen p-6 bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800",children:e.jsxs("div",{className:"max-w-4xl p-12 mx-auto text-center bg-white shadow-2xl rounded-2xl dark:bg-gray-800",children:[e.jsxs("div",{className:"relative inline-block",children:[e.jsx("div",{className:"absolute inset-0 bg-red-200 rounded-full opacity-50 blur-xl dark:bg-red-900"}),e.jsx($,{className:"relative w-20 h-20 mx-auto mb-6 text-red-500"})]}),e.jsx("h2",{className:"mb-3 text-2xl font-bold text-gray-800 dark:text-white",children:"Données non disponibles"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Aucune donnée d'intervention disponible"})]})});g.useEffect(()=>{V()},[]);const o=f,a=o.installation,t=a==null?void 0:a.client,s=o==null?void 0:o.rapport_maintenance,I=R().props.auth.user,v=g.useRef(null),P={...s,client:{id:t==null?void 0:t.id,nom:t==null?void 0:t.nom,prenom:t==null?void 0:t.prenom,nom_complet:`${t==null?void 0:t.nom} ${t==null?void 0:t.prenom}`,telephone:t==null?void 0:t.telephone,email:t==null?void 0:t.email,localisation:t==null?void 0:t.localisation,ville:t==null?void 0:t.ville_acheteur,pays:t==null?void 0:t.pays_acheteur,genre:t==null?void 0:t.genre,cin:t==null?void 0:t.CIN,date_contrat:t==null?void 0:t.date_contrat,type_activite_agricole:t==null?void 0:t.type_activite_agricole,surface_cultivee:t==null?void 0:t.surface_cultivee},user:I},p=r=>{try{return JSON.parse(r||"[]")}catch{return[]}},S=()=>{var x,k;const r=v.current;if(!r)return;const d={margin:.5,filename:`rapport-maintenance-${(s==null?void 0:s.id)+"-du-"+((x=s==null?void 0:s.client)==null?void 0:x.nom)+"-"+((k=s==null?void 0:s.client)==null?void 0:k.prenom)||"undefined"}.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:2},jsPDF:{unit:"in",format:"a4",orientation:"portrait"}};B().from(r).set(d).save()},z=p(o.photo_probleme),A=p(s==null?void 0:s.photo_probleme),q=p(a==null?void 0:a.photos_installation),c=[...z,...A,...q],i=(r=>{const d={terminée:{bg:"bg-gradient-to-r from-green-500 to-emerald-600",textBg:"bg-green-50 dark:bg-green-900/30",text:"text-green-700 dark:text-green-300",border:"border-green-200 dark:border-green-800",icon:K,glow:"shadow-green-500/50"},en_cours:{bg:"bg-gradient-to-r from-blue-500 to-cyan-600",textBg:"bg-blue-50 dark:bg-blue-900/30",text:"text-blue-700 dark:text-blue-300",border:"border-blue-200 dark:border-blue-800",icon:b,glow:"shadow-blue-500/50"},planifiée:{bg:"bg-gradient-to-r from-yellow-500 to-orange-600",textBg:"bg-yellow-50 dark:bg-yellow-900/30",text:"text-yellow-700 dark:text-yellow-300",border:"border-yellow-200 dark:border-yellow-800",icon:_,glow:"shadow-yellow-500/50"}};return d[r]||d.en_cours})(o.status_intervention),N=i.icon,w=(r=>r==="préventive"?{bg:"bg-gradient-to-r from-blue-500 to-indigo-600",text:"text-blue-50",glow:"shadow-blue-500/50"}:{bg:"bg-gradient-to-r from-red-500 to-pink-600",text:"text-red-50",glow:"shadow-red-500/50"})(o.type_intervention);return e.jsxs(E,{children:[e.jsx(T,{title:"Intervention#"+o.id}),e.jsx("div",{className:"relative mx-6 mt-2 overflow-hidden bg-white rounded-2xl dark:bg-gray-800",children:e.jsx("div",{className:"relative px-6 py-12 mx-auto max-w-7xl",children:e.jsxs("div",{className:"flex flex-col gap-6 md:flex-row md:items-center md:justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"flex items-center gap-3 mb-2",children:e.jsxs("h1",{className:"text-4xl font-bold dark:text-white md:text-5xl",children:["Intervention #",o.id]})}),e.jsxs("div",{className:"flex flex-wrap gap-3 mb-4",children:[e.jsxs("div",{className:`inline-flex items-center gap-2 px-4 py-2 font-semibold text-white rounded-full shadow-sm ${w.bg} ${w.glow}`,children:[e.jsx(be,{className:"w-4 h-4"}),o.type_intervention]}),e.jsxs("div",{className:`inline-flex items-center gap-2 px-4 py-2 font-semibold text-white rounded-full shadow-sm ${i.bg} ${i.glow}`,children:[e.jsx(N,{className:"w-4 h-4"}),o.status_intervention]})]}),e.jsxs("p",{className:"flex items-center gap-2 text-lg text-gray-700 dark:text-gray-300",children:[e.jsx(_,{className:"w-5 h-5"}),new Date(o.date_intervention).toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric"})]})]}),e.jsx("div",{className:"flex flex-col gap-3",children:s&&e.jsxs("button",{className:"flex items-center justify-center gap-2 px-6 py-3 font-semibold text-white transition bg-blue-600 rounded-xl hover:shadow-xl hover:scale-105",onClick:S,children:[e.jsx(Y,{className:"w-5 h-5"}),"Télécharger le rapport"]})})]})})}),e.jsxs("div",{className:"px-6 py-8 mx-auto max-w-7xl",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-6 mb-8 md:grid-cols-4",children:[e.jsxs("div",{className:"relative p-6 overflow-hidden transition bg-white shadow-lg group rounded-2xl dark:bg-gray-800 hover:shadow-2xl hover:-translate-y-1",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 -mt-16 -mr-16 transition bg-blue-100 rounded-full dark:bg-blue-900/30 group-hover:scale-150"}),e.jsxs("div",{className:"relative",children:[e.jsx(G,{className:"w-8 h-8 mb-3 text-blue-600"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Installation"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:a==null?void 0:a.code_installation})]})]}),e.jsxs("div",{className:"relative p-6 overflow-hidden transition bg-white shadow-lg group rounded-2xl dark:bg-gray-800 hover:shadow-2xl hover:-translate-y-1",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 -mt-16 -mr-16 transition bg-yellow-100 rounded-full dark:bg-yellow-900/30 group-hover:scale-150"}),e.jsxs("div",{className:"relative",children:[e.jsx(ye,{className:"w-8 h-8 mb-3 text-yellow-600"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Puissance"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[a==null?void 0:a.puissance_pompe,"W"]})]})]}),e.jsxs("div",{className:"relative p-6 overflow-hidden transition bg-white shadow-lg group rounded-2xl dark:bg-gray-800 hover:shadow-2xl hover:-translate-y-1",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 -mt-16 -mr-16 transition bg-green-100 rounded-full dark:bg-green-900/30 group-hover:scale-150"}),e.jsxs("div",{className:"relative",children:[e.jsx(te,{className:"w-8 h-8 mb-3 text-green-600"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Débit"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[a==null?void 0:a.debit_nominal," L/h"]})]})]}),e.jsxs("div",{className:"relative p-6 overflow-hidden transition bg-white shadow-lg group rounded-2xl dark:bg-gray-800 hover:shadow-2xl hover:-translate-y-1",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 -mt-16 -mr-16 transition bg-purple-100 rounded-full dark:bg-purple-900/30 group-hover:scale-150"}),e.jsxs("div",{className:"relative",children:[e.jsx(m,{className:"w-8 h-8 mb-3 text-purple-600"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Photos"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:c.length})]})]})]}),e.jsx("div",{className:"mb-8",children:e.jsx("div",{className:"flex gap-2 p-2 bg-white shadow-lg rounded-2xl dark:bg-gray-800",children:[{id:"details",label:"Détails",icon:se},{id:"rapport",label:"Rapport",icon:u},{id:"photos",label:"Photos",icon:m},{id:"client",label:"Client",icon:y}].map(r=>{const d=r.icon;return e.jsxs("button",{onClick:()=>L(r.id),className:`flex-1 flex items-center justify-center gap-2 px-6 py-3 rounded-xl font-semibold transition ${n===r.id?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white shadow-lg":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[e.jsx(d,{className:"w-5 h-5"}),e.jsx("span",{className:"hidden md:inline",children:r.label})]},r.id)})})}),e.jsxs("div",{className:"grid grid-cols-1 gap-8 lg:grid-cols-3",children:[e.jsxs("div",{className:"space-y-6 lg:col-span-2",children:[n==="details"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"p-8 transition bg-white shadow-xl rounded-2xl dark:bg-gray-800 hover:shadow-2xl",children:[e.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[e.jsx("div",{className:"p-3 bg-red-100 rounded-xl dark:bg-red-900/30",children:e.jsx(me,{className:"w-6 h-6 text-red-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"mb-2 text-2xl font-bold text-gray-900 dark:text-white",children:"Description du problème"}),e.jsx("div",{className:"w-20 h-1 mb-4 rounded-full bg-gradient-to-r from-red-500 to-pink-500"})]})]}),e.jsx("p",{className:"text-lg leading-relaxed text-gray-700 dark:text-gray-300",children:o.description_probleme})]}),e.jsxs("div",{className:"p-8 transition bg-white shadow-xl rounded-2xl dark:bg-gray-800 hover:shadow-2xl",children:[e.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[e.jsx("div",{className:"p-3 bg-blue-100 rounded-xl dark:bg-blue-900/30",children:e.jsx(H,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"mb-2 text-2xl font-bold text-gray-900 dark:text-white",children:"Informations techniques"}),e.jsx("div",{className:"w-20 h-1 mb-4 rounded-full bg-gradient-to-r from-blue-500 to-cyan-500"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-700 dark:to-gray-600",children:[e.jsx("p",{className:"mb-1 text-sm text-gray-600 dark:text-gray-400",children:"Profondeur"}),e.jsxs("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:[a==null?void 0:a.profondeur_forage,"m"]})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-700 dark:to-gray-600",children:[e.jsx("p",{className:"mb-1 text-sm text-gray-600 dark:text-gray-400",children:"Source"}),e.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:a==null?void 0:a.source_eau})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-700 dark:to-gray-600",children:[e.jsx("p",{className:"mb-1 text-sm text-gray-600 dark:text-gray-400",children:"HMT"}),e.jsxs("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:[a==null?void 0:a.hmt,"m"]})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-700 dark:to-gray-600",children:[e.jsx("p",{className:"mb-1 text-sm text-gray-600 dark:text-gray-400",children:"Statut"}),e.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:a==null?void 0:a.statuts})]})]})]})]}),n==="rapport"&&(s?e.jsxs("div",{className:"p-8 transition bg-white shadow-xl rounded-2xl dark:bg-gray-800 hover:shadow-2xl",children:[e.jsxs("div",{className:"flex items-start gap-4 mb-8",children:[e.jsx("div",{className:"p-3 bg-green-100 rounded-xl dark:bg-green-900/30",children:e.jsx(u,{className:"w-6 h-6 text-green-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"mb-2 text-2xl font-bold text-gray-900 dark:text-white",children:"Rapport de maintenance"}),e.jsx("div",{className:"w-20 h-1 rounded-full bg-gradient-to-r from-green-500 to-emerald-500"})]})]}),e.jsx("div",{className:"space-y-6",children:[{label:"Diagnostic initial",value:s.diagnostic_initial,color:"blue"},{label:"Cause identifiée",value:s.cause_identifiee,color:"yellow"},{label:"Intervention réalisée",value:s.intervention_realisee,color:"purple"},{label:"Vérification",value:s.verification_fonctionnement,color:"green"},{label:"Recommandations",value:s.recommandation_client,color:"red"}].map((r,d)=>e.jsxs("div",{className:`p-6 rounded-xl bg-${r.color}-50 dark:bg-${r.color}-900/20 border-l-4 border-${r.color}-500`,children:[e.jsx("p",{className:`mb-2 text-sm font-bold uppercase tracking-wide text-${r.color}-700 dark:text-${r.color}-300`,children:r.label}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:r.value})]},d))})]}):e.jsxs("div",{className:"p-12 text-center transition bg-white shadow-xl rounded-2xl dark:bg-gray-800 hover:shadow-2xl",children:[e.jsxs("div",{className:"relative inline-block mb-6",children:[e.jsx("div",{className:"absolute inset-0 bg-orange-200 rounded-full opacity-50 animate-pulse blur-xl dark:bg-orange-900"}),e.jsx("div",{className:"relative p-6 bg-orange-100 rounded-full dark:bg-orange-900/30",children:e.jsx(u,{className:"w-16 h-16 text-orange-500 dark:text-orange-400"})})]}),e.jsx("h3",{className:"mb-3 text-2xl font-bold text-gray-900 dark:text-white",children:"Rapport non disponible"}),e.jsx("p",{className:"max-w-md mx-auto mb-6 text-gray-600 dark:text-gray-400",children:"Aucun rapport de maintenance n'a encore été généré pour cette intervention. Le rapport sera disponible une fois l'intervention terminée."}),e.jsxs("div",{className:"inline-flex items-center gap-2 px-6 py-3 font-semibold text-orange-700 bg-orange-100 rounded-xl dark:bg-orange-900/30 dark:text-orange-300",children:[e.jsx($,{className:"w-5 h-5"}),"En attente de rapport"]}),e.jsxs("div",{className:"flex items-center justify-center gap-3 mt-8",children:[e.jsx("div",{className:"w-20 h-1 bg-orange-200 rounded-full dark:bg-orange-800"}),e.jsx(b,{className:"w-5 h-5 text-orange-400"}),e.jsx("div",{className:"w-20 h-1 bg-orange-200 rounded-full dark:bg-orange-800"})]}),e.jsx("p",{className:"mt-6 text-sm text-gray-500 dark:text-gray-500",children:"Le technicien doit compléter l'intervention pour générer le rapport"})]})),n==="photos"&&c.length>0&&e.jsxs("div",{className:"p-8 transition bg-white shadow-xl rounded-2xl dark:bg-gray-800 hover:shadow-2xl",children:[e.jsxs("div",{className:"flex items-start gap-4 mb-8",children:[e.jsx("div",{className:"p-3 bg-purple-100 rounded-xl dark:bg-purple-900/30",children:e.jsx(m,{className:"w-6 h-6 text-purple-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("h3",{className:"mb-2 text-2xl font-bold text-gray-900 dark:text-white",children:["Galerie photos (",c.length,")"]}),e.jsx("div",{className:"w-20 h-1 rounded-full bg-gradient-to-r from-purple-500 to-pink-500"})]})]}),e.jsx("div",{className:"grid grid-cols-2 gap-4 md:grid-cols-3",children:c.map((r,d)=>e.jsxs("div",{onClick:()=>h(r),className:"relative overflow-hidden transition bg-gray-200 cursor-pointer group rounded-2xl aspect-square dark:bg-gray-700 hover:shadow-2xl hover:scale-105",children:[e.jsx("img",{src:`/${r}`,alt:`Photo ${d+1}`,className:"object-cover w-full h-full",onError:x=>{x.target.src='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="200" height="200"%3E%3Crect fill="%23ddd" width="200" height="200"/%3E%3Ctext fill="%23999" x="50%25" y="50%25" text-anchor="middle" dy=".3em"%3EImage%3C/text%3E%3C/svg%3E'}}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center transition bg-black bg-opacity-0 group-hover:bg-opacity-40",children:e.jsx(m,{className:"w-10 h-10 text-white transition opacity-0 group-hover:opacity-100"})})]},d))})]}),n==="client"&&e.jsxs("div",{className:"p-8 transition bg-white shadow-xl rounded-2xl dark:bg-gray-800 hover:shadow-2xl",children:[e.jsxs("div",{className:"flex items-start gap-4 mb-8",children:[e.jsx("div",{className:"p-3 bg-indigo-100 rounded-xl dark:bg-indigo-900/30",children:e.jsx(y,{className:"w-6 h-6 text-indigo-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"mb-2 text-2xl font-bold text-gray-900 dark:text-white",children:"Informations complètes du client"}),e.jsx("div",{className:"w-20 h-1 rounded-full bg-gradient-to-r from-indigo-500 to-purple-500"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-700 dark:to-gray-600",children:[e.jsx("p",{className:"mb-1 text-sm text-gray-600 dark:text-gray-400",children:"Nom complet"}),e.jsxs("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:[t==null?void 0:t.nom," ",t==null?void 0:t.prenom]})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-700 dark:to-gray-600",children:[e.jsx("p",{className:"mb-1 text-sm text-gray-600 dark:text-gray-400",children:"Genre"}),e.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:t==null?void 0:t.genre})]})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/30 dark:to-blue-800/30",children:[e.jsx("p",{className:"mb-2 text-sm text-gray-600 dark:text-gray-400",children:"Contact"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{className:"flex items-center gap-2 font-medium text-gray-900 dark:text-white",children:[e.jsx(D,{className:"w-4 h-4"})," ",t==null?void 0:t.telephone]}),e.jsxs("p",{className:"flex items-center gap-2 font-medium text-gray-900 dark:text-white",children:[e.jsx(C,{className:"w-4 h-4"})," ",t==null?void 0:t.email]})]})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/30 dark:to-green-800/30",children:[e.jsx("p",{className:"mb-2 text-sm text-gray-600 dark:text-gray-400",children:"Activité agricole"}),e.jsx("p",{className:"mb-1 text-lg font-bold text-gray-900 dark:text-white",children:t==null?void 0:t.type_activite_agricole}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Surface: ",t==null?void 0:t.surface_cultivee," ","ha"]})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/30 dark:to-purple-800/30",children:[e.jsx("p",{className:"mb-2 text-sm text-gray-600 dark:text-gray-400",children:"Localisation"}),e.jsxs("p",{className:"flex items-center gap-2 font-medium text-gray-900 dark:text-white",children:[e.jsx(M,{className:"w-4 h-4"})," ",t==null?void 0:t.localisation]}),e.jsxs("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:[t==null?void 0:t.ville_acheteur,","," ",t==null?void 0:t.pays_acheteur]})]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"p-6 transition bg-white shadow-xl rounded-2xl dark:bg-gray-800 hover:shadow-2xl",children:[e.jsxs("h3",{className:"flex items-center gap-2 mb-6 text-xl font-bold text-gray-900 dark:text-white",children:[e.jsx(b,{className:"w-5 h-5 text-blue-600"}),"Chronologie"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"relative pl-8 before:absolute before:left-2 before:top-3 before:w-2 before:h-2 before:bg-blue-500 before:rounded-full before:ring-4 before:ring-blue-100 dark:before:ring-blue-900",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Intervention"}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:new Date(o.date_intervention).toLocaleDateString("fr-FR")})]}),e.jsxs("div",{className:"relative pl-8 before:absolute before:left-2 before:top-3 before:w-2 before:h-2 before:bg-green-500 before:rounded-full before:ring-4 before:ring-green-100 dark:before:ring-green-900",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Installation"}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:new Date(a==null?void 0:a.date_installation).toLocaleDateString("fr-FR")})]}),e.jsxs("div",{className:"relative pl-8 before:absolute before:left-2 before:top-3 before:w-2 before:h-2 before:bg-purple-500 before:rounded-full before:ring-4 before:ring-purple-100 dark:before:ring-purple-900",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Contrat client"}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:new Date(t==null?void 0:t.date_contrat).toLocaleDateString("fr-FR")})]})]})]}),e.jsxs("div",{className:`p-6 transition shadow-xl rounded-2xl ${i.textBg} border-2 ${i.border} hover:shadow-2xl`,children:[e.jsxs("h3",{className:"flex items-center gap-2 mb-4 text-xl font-bold text-gray-900 dark:text-white",children:[e.jsx(ne,{className:"w-5 h-5"}),"Statut actuel"]}),e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-white/50 dark:bg-gray-700/50",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"État"}),e.jsx("p",{className:`text-2xl font-bold ${i.text}`,children:o.status_intervention})]}),e.jsx(N,{className:`w-12 h-12 ${i.text}`})]})]}),e.jsxs("div",{className:"p-6 transition shadow-xl bg-gradient-to-br from-indigo-500 to-purple-600 rounded-2xl hover:shadow-2xl",children:[e.jsxs("h3",{className:"flex items-center gap-2 mb-4 text-xl font-bold text-white",children:[e.jsx(xe,{className:"w-5 h-5"}),"Résumé rapide"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-white/20 backdrop-blur-sm",children:[e.jsx("span",{className:"text-sm text-white/90",children:"Type"}),e.jsx("span",{className:"font-semibold text-white",children:o.type_intervention})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-white/20 backdrop-blur-sm",children:[e.jsx("span",{className:"text-sm text-white/90",children:"Code install."}),e.jsx("span",{className:"font-semibold text-white",children:a==null?void 0:a.code_installation})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-white/20 backdrop-blur-sm",children:[e.jsx("span",{className:"text-sm text-white/90",children:"Client"}),e.jsx("span",{className:"font-semibold text-white",children:t==null?void 0:t.nom})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-white/20 backdrop-blur-sm",children:[e.jsx("span",{className:"text-sm text-white/90",children:"Photos"}),e.jsx("span",{className:"font-semibold text-white",children:c.length})]})]})]}),e.jsxs("div",{className:"p-6 transition bg-white shadow-xl rounded-2xl dark:bg-gray-800 hover:shadow-2xl",children:[e.jsxs("h3",{className:"flex items-center gap-2 mb-4 text-xl font-bold text-gray-900 dark:text-white",children:[e.jsx(y,{className:"w-5 h-5 text-indigo-600"}),"Contact client"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 transition rounded-lg bg-gray-50 dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600",children:[e.jsx(D,{className:"w-5 h-5 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Téléphone"}),e.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:t==null?void 0:t.telephone})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 transition rounded-lg bg-gray-50 dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600",children:[e.jsx(C,{className:"w-5 h-5 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Email"}),e.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:t==null?void 0:t.email})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 transition rounded-lg bg-gray-50 dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600",children:[e.jsx(M,{className:"w-5 h-5 text-red-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Localisation"}),e.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:t==null?void 0:t.localisation})]})]})]})]})]})]})]}),j&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/95 backdrop-blur-sm animate-in fade-in",onClick:()=>h(null),children:e.jsxs("div",{className:"relative max-w-6xl max-h-full duration-300 animate-in zoom-in-95",children:[e.jsx("img",{src:`/${j}`,alt:"Photo agrandie",className:"object-contain max-w-full max-h-screen shadow-2xl rounded-2xl",onClick:r=>r.stopPropagation()}),e.jsx("button",{className:"absolute p-3 text-white transition rounded-full bg-white/10 backdrop-blur-md top-4 right-4 hover:bg-white/20 hover:scale-110",onClick:()=>h(null),children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e.jsx("div",{className:"absolute px-6 py-3 text-sm text-white -translate-x-1/2 rounded-full bottom-4 left-1/2 bg-white/10 backdrop-blur-md",children:"Cliquez n'importe où pour fermer"})]})}),e.jsx("div",{className:"hidden",children:e.jsx(F,{data:P,ref:v})})]})};export{ze as default};
