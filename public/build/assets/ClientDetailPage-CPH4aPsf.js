import{r as i,j as e,$ as k}from"./app-DX81JdZj.js";import{A as m}from"./AuthenticatedLayout-BhoKsb0i.js";import{a as v}from"./clientService-Cb70Xauc.js";import{H as b,h as x,a as w,F as M,b as D,c as Y,I as _,d as C,e as F,L as I,g as L,i as S}from"./constant-CZa3NPxg.js";import"./fr-Br33CVeN.js";import"./transition-94SsWejo.js";import"./iconBase-NQ_muvzb.js";import"./useTheme-DFAXhrBt.js";import"./index-CT9OlV2B.js";import"./index-BnP4Z9iX.js";import"./api-2-CUCokK.js";x.locale("fr");const G=({client:s})=>{var o;const[n,g]=i.useState([]),[c,j]=i.useState([]),[a,p]=i.useState(null),[y,N]=i.useState(!0),[u,h]=i.useState(!0),f=async t=>{var r,l;try{h(!0);const d=await v(t);d&&(j(((r=d.client)==null?void 0:r.installations)||[]),g(((l=d.client)==null?void 0:l.paiement)||[]),p(d.client))}catch(d){console.error("Erreur lors de la récupération des données:",d)}finally{N(!1),h(!1)}};return i.useEffect(()=>{s!=null&&s.id&&f(s.id)},[s]),y?e.jsx(m,{children:e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-teal-500 rounded-full border-t-transparent animate-spin"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Chargement des données..."})]})})}):s?e.jsxs(m,{children:[e.jsx(k,{title:`${s.nom} ${s.prenom}`}),u?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"w-12 h-12 border-t-2 border-b-2 border-blue-500 rounded-full animate-spin"})}):e.jsx("div",{className:"px-4 py-6 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"overflow-hidden bg-white rounded-lg shadow-lg dark:bg-slate-800",children:[e.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"flex items-center justify-center w-16 h-16 rounded-full bg-teal-500/10",children:e.jsx(b,{className:"w-8 h-8 text-teal-500"})}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[s.nom," ",s.prenom]}),e.jsxs("div",{className:"flex items-center mt-1 space-x-2",children:[e.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Client ID: #",s.id]}),e.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"•"}),e.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Inscrit le ",x(s.created_at).format("DD MMM YYYY")]})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 p-6 md:grid-cols-3",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex items-center justify-center flex-shrink-0 w-10 h-10 rounded-lg bg-blue-50 dark:bg-blue-900/20",children:e.jsx(w,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Téléphone"}),e.jsx("p",{className:"text-base font-medium text-gray-900 dark:text-white",children:s.telephone})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex items-center justify-center flex-shrink-0 w-10 h-10 rounded-lg bg-indigo-50 dark:bg-indigo-900/20",children:e.jsx(M,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Email"}),e.jsx("p",{className:"text-base font-medium text-gray-900 dark:text-white",children:s.email||"Non renseigné"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex items-center justify-center flex-shrink-0 w-10 h-10 rounded-lg bg-yellow-50 dark:bg-yellow-900/20",children:e.jsx(D,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"CIN"}),e.jsx("p",{className:"text-base font-medium text-gray-900 dark:text-white",children:s.CIN})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex items-center justify-center flex-shrink-0 w-10 h-10 rounded-lg bg-red-50 dark:bg-red-900/20",children:e.jsx(Y,{className:"w-5 h-5 text-red-600 dark:text-red-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Localisation"}),e.jsx("p",{className:"text-base font-medium text-gray-900 dark:text-white",children:(a==null?void 0:a.localisation)||"Non renseigné"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:(o=a==null?void 0:a.localisation)==null?void 0:o.pays})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex items-center justify-center flex-shrink-0 w-10 h-10 rounded-lg bg-purple-50 dark:bg-purple-900/20",children:e.jsx(_,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Genre"}),e.jsx("p",{className:"text-base font-medium text-gray-900 dark:text-white",children:s.genre})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex items-center justify-center flex-shrink-0 w-10 h-10 rounded-lg bg-orange-50 dark:bg-orange-900/20",children:e.jsx(C,{className:"w-5 h-5 text-orange-600 dark:text-orange-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Date du contrat"}),e.jsx("p",{className:"text-base font-medium text-gray-900 dark:text-white",children:x(s.date_contrat).format("DD MMM YYYY")})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex items-center justify-center flex-shrink-0 w-10 h-10 rounded-lg bg-green-50 dark:bg-green-900/20",children:e.jsx(F,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Surface cultivée"}),e.jsxs("p",{className:"text-base font-medium text-gray-900 dark:text-white",children:[s.surface_cultivee," ha"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex items-center justify-center flex-shrink-0 w-10 h-10 rounded-lg bg-teal-50 dark:bg-teal-900/20",children:e.jsx(I,{className:"w-5 h-5 text-teal-600 dark:text-teal-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Type d'activité agricole"}),e.jsx("p",{className:"text-base font-medium text-gray-900 dark:text-white",children:s.type_activite_agricole})]})]})]})]})]}),e.jsxs("div",{className:"overflow-hidden bg-white rounded-lg shadow-lg dark:bg-slate-800",children:[e.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-lg bg-amber-50 dark:bg-amber-900/20",children:e.jsx(L,{className:"w-5 h-5 text-amber-600 dark:text-amber-400"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Installations"})]})}),e.jsx("div",{className:"p-6",children:c&&c.length>0?e.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:c.map((t,r)=>{var l;return e.jsx("div",{className:"p-4 rounded-lg bg-gray-50 dark:bg-slate-700/50",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Code installation"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:t.code_installation})]}),e.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${((l=t.statuts)==null?void 0:l.toLowerCase())==="en panne"?"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400":"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400"}`,children:t.statuts})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Date d'installation"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:x(t.date_installation).format("DD MMM YYYY")})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Débit nominal"}),e.jsxs("p",{className:"font-medium text-gray-900 dark:text-white",children:[t.debit_nominal," m³/h"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Puissance pompe"}),e.jsxs("p",{className:"font-medium text-gray-900 dark:text-white",children:[t.puissance_pompe," kW"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Surface panneaux"}),e.jsxs("p",{className:"font-medium text-gray-900 dark:text-white",children:[t.surface_panneaux," m²"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Profondeur forage"}),e.jsxs("p",{className:"font-medium text-gray-900 dark:text-white",children:[t.profondeur_forage," m"]})]})]})]})},r)})}):e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Aucune installation enregistrée"})})]}),e.jsxs("div",{className:"overflow-hidden bg-white rounded-lg shadow-lg dark:bg-slate-800",children:[e.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-lg bg-green-50 dark:bg-green-900/20",children:e.jsx(S,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Historique des paiements"})]})}),e.jsx("div",{className:"p-6",children:n&&n.length>0?e.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:n.map((t,r)=>e.jsx("div",{className:"p-4 rounded-lg bg-gray-50 dark:bg-slate-700/50",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Montant"}),e.jsxs("p",{className:"font-medium text-gray-900 dark:text-white",children:[parseInt(t.montant).toLocaleString("fr-FR")," FCFA"]})]}),e.jsx("span",{className:"px-3 py-1 text-xs font-medium text-green-800 bg-green-100 rounded-full dark:bg-green-900/30 dark:text-green-400",children:t.statut_paiement})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Date de paiement"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:x(t.date_paiement).format("DD MMM YYYY")})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Mode de paiement"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:t.mode_paiement})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Période couverte"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:t.periode_couverte})]}),t.observation&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Observation"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:t.observation})]})]})},r))}):e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Aucun paiement enregistré"})})]})]})})]}):e.jsx(m,{children:e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Aucune donnée client disponible"})})})})};export{G as default};
