import{r as i,j as e,$ as v}from"./app-CqlTY1uR.js";import{A as m}from"./AuthenticatedLayout-7wNZ3k9a.js";import{a as b}from"./clientService-CbJABR6L.js";import{H as w,h as x,a as M,F as D,b as Y,c as _,I as C,d as F,e as I,L,g as S,i as P}from"./constant-qzE0uy7u.js";import"./fr-Br33CVeN.js";import"./transition-CUcbIqag.js";import"./iconBase-C7kmkVD-.js";import"./useTheme-FNXR6sOu.js";import"./index-D8SYZ_Q8.js";import"./index-Ch528AjR.js";import"./api-D02kdyBv.js";x.locale("fr");const U=({client:s})=>{var g;const[n,j]=i.useState([]),[c,p]=i.useState([]),[r,y]=i.useState(null),[N,u]=i.useState(!0),[f,h]=i.useState(!0),k=async t=>{var d,l,o;try{h(!0);const a=await b(t);a&&(p(((d=a.client)==null?void 0:d.installations)||[]),console.log(((l=a.client)==null?void 0:l.installations)||[]),j(((o=a.client)==null?void 0:o.paiement)||[]),y(a.client))}catch(a){console.error("Erreur lors de la récupération des données:",a)}finally{u(!1),h(!1)}};return i.useEffect(()=>{s!=null&&s.id&&k(s.id)},[s]),N?e.jsx(m,{children:e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-teal-500 rounded-full border-t-transparent animate-spin"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Chargement des données..."})]})})}):s?e.jsxs(m,{children:[e.jsx(v,{title:`${s.nom} ${s.prenom}`}),f?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"w-12 h-12 border-t-2 border-b-2 border-blue-500 rounded-full animate-spin"})}):e.jsx("div",{className:"px-4 py-6 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"overflow-hidden bg-white rounded-lg shadow-lg dark:bg-slate-800",children:[e.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"flex items-center justify-center w-16 h-16 rounded-full bg-teal-500/10",children:e.jsx(w,{className:"w-8 h-8 text-teal-500"})}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[s.nom," ",s.prenom]}),e.jsxs("div",{className:"flex items-center mt-1 space-x-2",children:[e.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Client ID: #",s.id]}),e.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"•"}),e.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Inscrit le"," ",x(s.created_at).format("DD MMM YYYY")]})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 p-6 md:grid-cols-3",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex items-center justify-center flex-shrink-0 w-10 h-10 rounded-lg bg-blue-50 dark:bg-blue-900/20",children:e.jsx(M,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Téléphone"}),e.jsx("p",{className:"text-base font-medium text-gray-900 dark:text-white",children:s.telephone})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex items-center justify-center flex-shrink-0 w-10 h-10 rounded-lg bg-indigo-50 dark:bg-indigo-900/20",children:e.jsx(D,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Email"}),e.jsx("p",{className:"text-base font-medium text-gray-900 dark:text-white",children:s.email||"Non renseigné"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex items-center justify-center flex-shrink-0 w-10 h-10 rounded-lg bg-yellow-50 dark:bg-yellow-900/20",children:e.jsx(Y,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"CIN"}),e.jsx("p",{className:"text-base font-medium text-gray-900 dark:text-white",children:s.CIN})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex items-center justify-center flex-shrink-0 w-10 h-10 rounded-lg bg-red-50 dark:bg-red-900/20",children:e.jsx(_,{className:"w-5 h-5 text-red-600 dark:text-red-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Localisation"}),e.jsx("p",{className:"text-base font-medium text-gray-900 dark:text-white",children:(r==null?void 0:r.localisation)||"Non renseigné"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:(g=r==null?void 0:r.localisation)==null?void 0:g.pays})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex items-center justify-center flex-shrink-0 w-10 h-10 rounded-lg bg-purple-50 dark:bg-purple-900/20",children:e.jsx(C,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Genre"}),e.jsx("p",{className:"text-base font-medium text-gray-900 dark:text-white",children:s.genre})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex items-center justify-center flex-shrink-0 w-10 h-10 rounded-lg bg-orange-50 dark:bg-orange-900/20",children:e.jsx(F,{className:"w-5 h-5 text-orange-600 dark:text-orange-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Date du contrat"}),e.jsx("p",{className:"text-base font-medium text-gray-900 dark:text-white",children:x(s.date_contrat).format("DD MMM YYYY")})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex items-center justify-center flex-shrink-0 w-10 h-10 rounded-lg bg-green-50 dark:bg-green-900/20",children:e.jsx(I,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Surface cultivée"}),e.jsxs("p",{className:"text-base font-medium text-gray-900 dark:text-white",children:[s.surface_cultivee," ha"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex items-center justify-center flex-shrink-0 w-10 h-10 rounded-lg bg-teal-50 dark:bg-teal-900/20",children:e.jsx(L,{className:"w-5 h-5 text-teal-600 dark:text-teal-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Type d'activité agricole"}),e.jsx("p",{className:"text-base font-medium text-gray-900 dark:text-white",children:s.type_activite_agricole})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex items-center justify-center flex-shrink-0 w-10 h-10 bg-gray-100 rounded-lg dark:bg-gray-900/50",children:"⚙️"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Créée via"}),e.jsx("p",{className:"text-base font-medium text-gray-900 dark:text-white",children:s.created_via})]})]})]})]})]}),e.jsxs("div",{className:"overflow-hidden bg-white rounded-lg shadow-lg dark:bg-slate-800",children:[e.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-lg bg-amber-50 dark:bg-amber-900/20",children:e.jsx(S,{className:"w-5 h-5 text-amber-600 dark:text-amber-400"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Installations"})]})}),e.jsx("div",{className:"p-6",children:c&&c.length>0?e.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:c.map((t,d)=>{var l;return e.jsx("div",{className:"p-4 rounded-lg bg-gray-50 dark:bg-slate-700/50",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Code installation"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:t.code_installation})]}),e.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${((l=t.statuts)==null?void 0:l.toLowerCase())==="en panne"?"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400":"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400"}`,children:t.statuts})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Date d'installation"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:x(t.date_installation).format("DD MMM YYYY")})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Pays"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:t.localisation.pays})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Ville"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:t.localisation.ville})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Débit nominal"}),e.jsxs("p",{className:"font-medium text-gray-900 dark:text-white",children:[t.debit_nominal," ","m³/h"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Puissance pompe"}),e.jsxs("p",{className:"font-medium text-gray-900 dark:text-white",children:[t.puissance_pompe," ","kW"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Surface panneaux"}),e.jsxs("p",{className:"font-medium text-gray-900 dark:text-white",children:[t.surface_panneaux," ","m²"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Profondeur forage"}),e.jsxs("p",{className:"font-medium text-gray-900 dark:text-white",children:[t.profondeur_forage," ","m"]})]})]})]})},d)})}):e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Aucune installation enregistrée"})})]}),e.jsxs("div",{className:"overflow-hidden bg-white rounded-lg shadow-lg dark:bg-slate-800",children:[e.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-lg bg-green-50 dark:bg-green-900/20",children:e.jsx(P,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Historique des paiements"})]})}),e.jsx("div",{className:"p-6",children:n&&n.length>0?e.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:n.map((t,d)=>e.jsx("div",{className:"p-4 rounded-lg bg-gray-50 dark:bg-slate-700/50",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Montant"}),e.jsxs("p",{className:"font-medium text-gray-900 dark:text-white",children:[parseInt(t.montant).toLocaleString("fr-FR")," ","FCFA"]})]}),e.jsx("span",{className:"px-3 py-1 text-xs font-medium text-green-800 bg-green-100 rounded-full dark:bg-green-900/30 dark:text-green-400",children:t.statut_paiement})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Date de paiement"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:x(t.date_paiement).format("DD MMM YYYY")})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Mode de paiement"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:t.mode_paiement})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Période couverte"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:t.periode_couverte})]}),t.observation&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Observation"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:t.observation})]})]})},d))}):e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Aucun paiement enregistré"})})]})]})})]}):e.jsx(m,{children:e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Aucune donnée client disponible"})})})})};export{U as default};
