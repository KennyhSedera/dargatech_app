import{r as C,q as W,j as t}from"./app-DzG4DzLh.js";function E({headers:y,rows:c,className:S="",itemsPerPage:l=5,actions:x=[],currentPage:i=1,onPageChange:h=()=>{},onItemsPerPageChange:L=()=>{},masqueColumns:p=[],itemsPerPageOptions:D=[5,8,10,25,50,100]}){var v;const[s,M]=C.useState({key:null,direction:"asc"}),k=W().props.auth.user,R=e=>{let n="asc";s.key===e&&s.direction==="asc"&&(n="desc"),M({key:e,direction:n})},g=e=>e.sortable===!0,d=C.useMemo(()=>s.key?[...c].sort((e,n)=>{const a=e[s.key],r=n[s.key];if(a==null)return 1;if(r==null)return-1;if(typeof a=="number"&&typeof r=="number")return s.direction==="asc"?a-r:r-a;const o=new Date(a),u=new Date(r);if(!isNaN(o)&&!isNaN(u)&&a.toString().includes("-"))return s.direction==="asc"?o-u:u-o;const N=a.toString().toLowerCase(),w=r.toString().toLowerCase();return N<w?s.direction==="asc"?-1:1:N>w?s.direction==="asc"?1:-1:0}):c,[c,s]),m=i*l,b=m-l,I=d.slice(b,m),f=Math.ceil(d.length/l),j=e=>{h(e)},$=e=>{L(e),h(1)},B=e=>s.key!==e?t.jsx("svg",{className:"w-4 h-4 ml-1 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 9l4-4 4 4m0 6l-4 4-4-4"})}):s.direction==="asc"?t.jsx("svg",{className:"w-4 h-4 ml-1 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})}):t.jsx("svg",{className:"w-4 h-4 ml-1 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})});return t.jsxs("div",{children:[t.jsx("div",{className:`overflow-auto rounded-lg shadow-sm ${S}`,children:t.jsxs("table",{className:"w-full min-w-full bg-white table-auto dark:bg-gray-800",children:[t.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:t.jsxs("tr",{children:[y.map((e,n)=>!p.includes(e.key)&&t.jsx("th",{className:`px-4 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase dark:text-gray-300 ${g(e)?"cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 select-none":""}`,onClick:g(e)?()=>R(e.key):void 0,children:t.jsxs("div",{className:"flex items-center",children:[e.label,g(e)&&B(e.key)]})},n)),x.length>0&&((v=k.user_role)==null?void 0:v.name)!=="partenaire"&&t.jsx("th",{className:"px-6 py-3 text-xs font-medium tracking-wider text-center text-gray-500 uppercase dark:text-gray-300",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:I.map((e,n)=>{var a;return t.jsxs("tr",{className:"transition-colors hover:bg-gray-50 dark:hover:bg-gray-700",children:[y.map((r,o)=>!p.includes(r.key)&&t.jsx("td",{className:"px-4 py-2 text-sm text-gray-900 dark:text-gray-200",children:r.customRender?r.customRender(e[r.key],e):e[r.key]},o)),x.length>0&&((a=k.user_role)==null?void 0:a.name)!=="partenaire"&&t.jsx("td",{className:"px-4 py-2 text-sm text-gray-900 whitespace-nowrap dark:text-gray-200",children:t.jsx("div",{className:"flex flex-wrap justify-center gap-2",children:x.map((r,o)=>t.jsx("button",{onClick:()=>r.handler(e),className:`${r.color} rounded-md hover:${r.hoverColor} transition`,children:r.label},o))})})]},n)})})]})}),t.jsxs("div",{className:"flex flex-col items-center justify-between mt-4 space-y-3 sm:flex-row sm:space-y-0",children:[t.jsxs("div",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Page ",i," sur ",f," (éléments"," ",b+1," à"," ",Math.min(m,d.length)," sur"," ",d.length,")"]}),t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("label",{htmlFor:"itemsPerPage",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Afficher :"}),t.jsx("select",{id:"itemsPerPage",value:l,onChange:e=>$(Number(e.target.value)),className:"px-2 py-1 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-transparent dark:border-gray-600 dark:text-gray-200 w-16",children:D.map(e=>t.jsx("option",{value:e,children:e},e))})]}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsx("button",{onClick:()=>j(i-1),disabled:i===1,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed dark:text-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600",children:"Précédent"}),t.jsx("button",{onClick:()=>j(i+1),disabled:i===f,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed dark:text-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600",children:"Suivant"})]})]})]})]})}export{E as D};
